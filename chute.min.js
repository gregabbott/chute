const chute=(()=>{/*https://github.com/gregabbott/chute By + (C) Greg Abbott 2024. V: 2024-11-28.2*/let t,e=null,n={};const l=(...t)=>{throw new Error(t)},o=t=>t instanceof Function,a=(t,e)=>o(Object.getPrototypeOf(t)[e]);function i(t,e){if(o(e))return e(t);if("log"===e)return console[e](t),t;if("string"==typeof e){if(a(t,e))return t[e]();l(`Data lacks "${e}" method`)}else l("Not a function:",e);return t}const r=e=>e.reduce(i,t);const s=(e,i)=>{if(a(t,e))t=t[e](...i);else if(o(globalThis[e])){if(0==i.length&&(t=globalThis[e](t)),i.length>0){let l=i.indexOf(n);-1!==l?(i[l]=t,t=globalThis[e](...i)):t=globalThis[e](...i)(t)}}else l(`Data lacks "${e}" method|Not a global Fn`)};const f=new Proxy((function(){}),{get:(t,n)=>(e=n,f),apply:(n,a,i)=>{let c=e;if(e&&(e=null),"log"==c)console[c](...i,t);else if("if"==c)(({cond:e,fn:n})=>{const a=o(e);a||!1===e||!0===e||l("give .if(arg1) bool OR test=data=>{â€¦return bool}"),o(n)?(a&&!0===e(t)||!0===e)&&(t=n(t)):l("give .if(,arg2) a Fn to send data to",n)})({cond:i[0],fn:i[1]});else if("tap"==c&&o(i[0]))i[0](t);else if("tap"==c)l("give .tap a fn to send data to");else{if(null===c&&0===i.length)return t;null===c||"and"===c?t=r(i):c&&s(c,i)}return f}});let c=(e,...n)=>(t=e,n.length>0&&(t=r(n)),f);return c._=n,c})();