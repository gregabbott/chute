const chute=(()=>{/*https://github.com/gregabbott/chute By + (C) Greg Abbott 2024. V: 2024-11-28*/let t,n=null;const e=(...t)=>{throw new Error(t)},o=t=>t instanceof Function,l=(t,n)=>o(Object.getPrototypeOf(t)[n]);function a(t,n){if(o(n))return n(t);if("log"===n)return console[n](t),t;if("string"==typeof n){if(l(t,n))return t[n]();e(`Data lacks "${n}" method`)}else e("Not a function:",n);return t}const r=n=>n.reduce(a,t);const i=(n,a)=>{l(t,n)?t=t[n](...a):o(globalThis[n])?(0==a.length&&(t=globalThis[n](t)),a.length>0&&(t=globalThis[n](...a)(t))):e(`Data lacks "${n}" method|Not a global Fn`)},s=new Proxy((function(){}),{get:(t,e)=>(n=e,s),apply:(l,a,f)=>{let c=n;if(n&&(n=null),"log"==c)console[c](...f,t);else if("if"==c)(({cond:n,fn:l})=>{const a=o(n);a||!1===n||!0===n||e("give .if(arg1) bool OR test=data=>{â€¦return bool}"),o(l)?(a&&!0===n(t)||!0===n)&&(t=l(t)):e("give .if(,arg2) a Fn to send data to",l)})({cond:f[0],fn:f[1]});else if("tap"==c&&o(f[0]))f[0](t);else if("tap"==c)e("give .tap a fn to send data to");else{if(null===c&&0===f.length)return t;null===c||"and"===c?t=r(f):c&&i(c,f)}return s}});return(n,...e)=>(t=n,e.length>0&&(t=r(e)),s)})();